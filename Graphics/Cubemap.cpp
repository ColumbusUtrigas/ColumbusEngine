/************************************************
*                  Cubemap.cpp                  *
*************************************************
*          This file is a part of:              *
*               COLUMBUS ENGINE                 *
*************************************************
*                Nika(Columbus) Red             *
*                   20.07.2017                  *
*************************************************/

#include <Graphics/Cubemap.h>

namespace Columbus
{

	//////////////////////////////////////////////////////////////////////////////
	C_Cubemap::C_Cubemap()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	C_Cubemap::C_Cubemap(std::array<std::string, 6> aPath)
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	C_Cubemap::C_Cubemap(std::string aPath)
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void C_Cubemap::bind() const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Cubemap::samplerCube(int i) const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Cubemap::unbind() const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	bool C_Cubemap::load(std::array<std::string, 6> aPath)
	{
		return false;
	}
	//////////////////////////////////////////////////////////////////////////////
	bool C_Cubemap::load(std::string aPath)
	{
		return false;
	}
	//////////////////////////////////////////////////////////////////////////////
	bool C_Cubemap::save(std::array<std::string, 6> aPath) const
	{
		for (int i = 0; i < 6; i++)
		{
			if (!mBitmaps[i].isExist()) return false;

			int type = E_IMAGE_SAVE_FORMAT_PNG;
			if (mBitmaps[i].getBPP() == 3) type = E_IMAGE_SAVE_FORMAT_JPG;

			if (!mBitmaps[i].save(aPath[i], type, 90))
			{
				C_Log::error("Can't load cubemap face: " + aPath[i]);
				return false;
			}

			C_Log::success("Cubemap face successfully saved: " + aPath[i]);
		}
		return true;
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	C_Cubemap::~C_Cubemap()
	{
		
	}

}
