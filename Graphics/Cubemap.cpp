/************************************************
*                  Cubemap.cpp                  *
*************************************************
*          This file is a part of:              *
*               COLUMBUS ENGINE                 *
*************************************************
*                Nika(Columbus) Red             *
*                   20.07.2017                  *
*************************************************/

#include <Graphics/Cubemap.h>

namespace Columbus
{

	//////////////////////////////////////////////////////////////////////////////
	Cubemap::Cubemap()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	Cubemap::Cubemap(std::array<std::string, 6> aPath)
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	Cubemap::Cubemap(std::string aPath)
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void Cubemap::bind() const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	void Cubemap::samplerCube(int i) const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	void Cubemap::unbind() const
	{
		
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	bool Cubemap::load(std::array<std::string, 6> aPath)
	{
		return false;
	}
	//////////////////////////////////////////////////////////////////////////////
	bool Cubemap::load(std::string aPath)
	{
		return false;
	}
	//////////////////////////////////////////////////////////////////////////////
	bool Cubemap::save(std::array<std::string, 6> aPath) const
	{
		ImageFormat type;
		
		for (uint32 i = 0; i < 6; i++)
		{
			if (!mBitmaps[i].IsExist()) return false;

			type = ImageFormat::PNG;
			if (GetBPPFromFormat(mBitmaps[i].GetFormat()) == 3) type = ImageFormat::JPG;

			if (!mBitmaps[i].Save(aPath[i], type, 90))
			{
				Log::error("Can't save cubemap face: " + aPath[i]);
				return false;
			}

			Log::success("Cubemap face successfully saved: " + aPath[i]);
		}
		return true;
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	Cubemap::~Cubemap()
	{
		
	}

}
