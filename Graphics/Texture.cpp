/************************************************
*                  Texture.cpp                  *
*************************************************
*          This file is a part of:              *
*               COLUMBUS ENGINE                 *
*************************************************
*                Nika(Columbus) Red             *
*                   20.07.2017                  *
*************************************************/

#include <Graphics/Texture.h>
#include <Common/Image/Image.h>

namespace Columbus
{

	//////////////////////////////////////////////////////////////////////////////
	C_Texture::C_Texture()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	C_Texture::C_Texture(std::string aPath, bool aSmooth)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	C_Texture::C_Texture(const char* aData, const int aW, const int aH, bool aSmooth)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::load(std::string aPath, bool aSmooth)
	{

	}

	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::load(const char* aData, const int aW, const int aH, bool aSmooth)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::loadDepth(const char* aData, const int aW, const int aH, bool aSmooth)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::setConfig(C_TextureConfig aConfig)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::setSmooth(const bool aSmooth)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::setAnisotropy(const unsigned int aAnisotropy)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	C_TextureConfig C_Texture::getConfig()
	{
		return mConfig;
	}
	//////////////////////////////////////////////////////////////////////////////
	size_t C_Texture::getSize()
	{
		if (!mImage.isExist()) return 0;

		return mWidth * mHeight * (mBPP / 8);
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	bool C_Texture::save(std::string aFile, size_t aQuality)
	{
		if (!mImage.isExist())
		{ C_Log::error("Texture didn't saved: " + aFile);  return false; }

		int type = E_IMAGE_SAVE_FORMAT_PNG;

		switch (mImage.getBPP())
		{
		case 3: type = E_IMAGE_SAVE_FORMAT_JPG; break;
		case 4: type = E_IMAGE_SAVE_FORMAT_PNG; break;
		}

		ImageSave(aFile, mImage.getWidth(), mImage.getHeight(), mImage.getBPP(), mImage.getData(), type, aQuality);

		C_Log::success("Texture successfully saved: " + aFile);
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::bind()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::unbind()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::sampler2D(int a)
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	void C_Texture::generateMipmap()
	{

	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	std::string C_Texture::getType()
	{
		return "Texture";
	}
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////
	C_Texture::~C_Texture()
	{

	}

}
