R"(
#shader vertex = screen_space
#shader fragment
#uniform Texture2DMS BaseTexture
#uniform int Samples

in vec2 var_UV;

vec3 Tonemap(vec3 HDR)
{
	return HDR / (1.0 + HDR);
}

vec3 InverseTonemap(vec3 LDR)
{
	return LDR / (1.0 - LDR);
}

void main(void)
{
	vec3 Color = vec3(0);

	for (int i = 0; i < Samples; i++)
	{
		Color += Tonemap(Sample2DMS(BaseTexture, ivec2(SV_Position.xy), i).rgb);
	}

	Color = InverseTonemap(Color / Samples);

	RT0 = vec4(Color, 1.0);
}
)"
